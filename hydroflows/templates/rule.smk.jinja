rule {{ name }}:
    input:
        {%- for key, value in inputs.items() %}
        {{ key }}={{ value|expand(key) }},
        {%- endfor %}
    {%- if params %}
    params:
        {%- for key, value in params.items() %}
        {{ key }}={{ value|expand(key) }},
        {%- endfor %}
    {%- endif %}
    output:
        {%- for key, value in output.items() %}
        {{ key }}={{ value|expand(key) }},
        {%- endfor %}
    shell:
        """
        hydroflows method {{ method_name }} \
        {%- for key, value in shell_args.items() %}
        {{ key }}={{ value }} \
        {%- endfor %}
        """
