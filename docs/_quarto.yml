project:
  type: website
  output-dir: "_site"
  render:
    - "*.qmd"
    - "*.ipynb"
    - "!PDF_Documentation.qmd"
  # post-render:
  #   - "examples/clear_notebooks.py"

filters:
   - include-code-files
   - interlinks
  #  - section-bibliographies

interlinks:
  sources:
    python:
      url: https://docs.python.org/3/
    numpy:
      url: https://numpy.org/doc/stable/

metadata-files:
  - api/_sidebar.yml

number-sections: false

website:
  title: "HydroFlows"
  # favicon: _static/logo.png
  search:
    location: navbar
    limit: 5
    type: textbox
  back-to-top-navigation: true
  page-footer:
    left: |
      Made possible by:
        <a href="https://www.deltares.nl/en" target="_blank" rel="noreferrer noopener">
          <img
            src="/_static/images/deltares-blue.svg"
            alt="Deltares"
            style="height: 40px;"
          />
        </a>
  navbar:
    # logo: _static/logo.png
    search: true
    pinned: true
    left:
      - setup_guide/index.qmd
      - user_guide/index.qmd
      - api/index.qmd
      - text: "Developments"
        file: developments/index.qmd
    right:
      - icon: github
        menu:
          - text: Source Code
            url:  https://github.com/Deltares-Research/HydroFlows
          - text: Report an Issue
            url:  https://github.com/Deltares-Research/HydroFlows/issues/new/choose
      # - text: Version
      #   menu:
      #     - text: empty

  sidebar:
    # - title: "Getting started"
    #   border: true
    #   collapse-level: 3
    #   contents:
    #     - text: Getting started
    #       file: getting_started/index.qmd
    #     - text: Model information
    #       file: info/models.qmd
    #     - getting_started/faq.qmd
    - title: "Setup guide"
      collapse-level: 3
      contents:
        - setup_guide/index.qmd
    - title: "User guide"
      collapse-level: 1
      contents:
        - user_guide/index.qmd
    - title: "Developments"
      collapse-level: 3
      contents:
        - developments/index.qmd
        - changelog.qmd
        - developments/guide.qmd

format:
  html:
    theme:
      light: [cosmo, _static/theme-light.scss]
      dark: [cosmo, _static/theme-dark.scss]
    css: _static/styles.css
    toc: true
    toc-expand: false
    page-layout: article
    grid:
      content-mode: standard

# bibliography: references.bib
# citeproc: false

execute:
  freeze: auto
  cache: true

quartodoc:
  parser: numpy
  package: hydroflows
  title: API Reference
  style: pkgdown
  dir: api
  render_interlinks: true
  sidebar: api/_sidebar.yml
  options:
    include_imports: true
    include_inherited: true

  # Methods of HydroFlows
  sections:
    - title: Methods
    - subtitle: FIAT
      desc: FIAT related methods
      package: hydroflows.methods.fiat
      contents:
        - name: FIATBuild
          children: embedded
    - subtitle: SFINCS
      desc: SFINCS related methods
      package: hydroflows.methods.sfincs
      contents:
        - name: SfincsBuild
          children: embedded
    - subtitle: Wflow
      desc: Wflow related methods
      package: hydroflows.methods.wflow
      contents:
        - name: WflowBuild
          children: embedded
